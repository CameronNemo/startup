image:
        name: cameronnemo/gitlab-ci-startup
        entrypoint: [""]

stages:
        - lint
        - build-test

before_script:
        - xbps-install -Syu

cppcheck:
        stage: lint
        script: cppcheck --inline-suppr --error-exitcode=3 .

autotools:
        stage: build-test
        script:
                - autoreconf -fi
                - ./configure
                - make
                - make check
